[{"C:\\Users\\Kiki\\Desktop\\car-service-wizard\\src\\index.js":"1","C:\\Users\\Kiki\\Desktop\\car-service-wizard\\src\\App.js":"2","C:\\Users\\Kiki\\Desktop\\car-service-wizard\\src\\reportWebVitals.js":"3","C:\\Users\\Kiki\\Desktop\\car-service-wizard\\src\\components\\carServiceConfigurator\\carServiceConfigurator.jsx":"4","C:\\Users\\Kiki\\Desktop\\car-service-wizard\\src\\components\\carModelPicker\\carModelPicker.jsx":"5","C:\\Users\\Kiki\\Desktop\\car-service-wizard\\src\\components\\carServicePicker\\carServicePicker.jsx":"6","C:\\Users\\Kiki\\Desktop\\car-service-wizard\\src\\components\\prevButton\\prevButton.jsx":"7","C:\\Users\\Kiki\\Desktop\\car-service-wizard\\src\\components\\nextButton\\nextButton.jsx":"8","C:\\Users\\Kiki\\Desktop\\car-service-wizard\\src\\js\\eventListeners.js":"9","C:\\Users\\Kiki\\Desktop\\car-service-wizard\\src\\components\\contactForm\\contactForm.jsx":"10","C:\\Users\\Kiki\\Desktop\\car-service-wizard\\src\\components\\summary\\summary.jsx":"11","C:\\Users\\Kiki\\Desktop\\car-service-wizard\\src\\components\\completionMessage\\completionMessage.jsx":"12","C:\\Users\\Kiki\\Desktop\\car-service-wizard\\src\\components\\closeButton\\closeButton.jsx":"13","C:\\Users\\Kiki\\Desktop\\car-service-wizard\\src\\components\\navbar\\navbar.jsx":"14","C:\\Users\\Kiki\\Desktop\\car-service-wizard\\src\\components\\pages\\home\\home.jsx":"15","C:\\Users\\Kiki\\Desktop\\car-service-wizard\\src\\components\\pages\\services\\services.jsx":"16"},{"size":500,"mtime":499162500000,"results":"17","hashOfConfig":"18"},{"size":1119,"mtime":1607369155164,"results":"19","hashOfConfig":"18"},{"size":362,"mtime":499162500000,"results":"20","hashOfConfig":"18"},{"size":9327,"mtime":1607368207201,"results":"21","hashOfConfig":"18"},{"size":1277,"mtime":1607368178886,"results":"22","hashOfConfig":"18"},{"size":3545,"mtime":1607368245734,"results":"23","hashOfConfig":"18"},{"size":239,"mtime":1607348877121,"results":"24","hashOfConfig":"18"},{"size":549,"mtime":1607349027072,"results":"25","hashOfConfig":"18"},{"size":328,"mtime":1607183588056,"results":"26","hashOfConfig":"18"},{"size":2186,"mtime":1607367652570,"results":"27","hashOfConfig":"18"},{"size":5214,"mtime":1607363702149,"results":"28","hashOfConfig":"18"},{"size":1026,"mtime":1607361460559,"results":"29","hashOfConfig":"18"},{"size":323,"mtime":1607368276487,"results":"30","hashOfConfig":"18"},{"size":803,"mtime":1607342848518,"results":"31","hashOfConfig":"18"},{"size":608,"mtime":1607368317883,"results":"32","hashOfConfig":"18"},{"size":862,"mtime":1607361470205,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"xa4ob3",{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"36"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"36"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"36"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"C:\\Users\\Kiki\\Desktop\\car-service-wizard\\src\\index.js",[],["70","71"],"C:\\Users\\Kiki\\Desktop\\car-service-wizard\\src\\App.js",[],"C:\\Users\\Kiki\\Desktop\\car-service-wizard\\src\\reportWebVitals.js",[],"C:\\Users\\Kiki\\Desktop\\car-service-wizard\\src\\components\\carServiceConfigurator\\carServiceConfigurator.jsx",["72"],"import React, { useState, useEffect } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport { CarModelPicker } from \"../carModelPicker/carModelPicker.jsx\";\r\nimport { CarServicePicker } from \"../carServicePicker/carServicePicker.jsx\";\r\nimport { ContactForm } from \"../contactForm/contactForm.jsx\";\r\nimport { Summary } from \"../summary/summary.jsx\";\r\nimport { CompletionMessage } from \"../completionMessage/completionMessage.jsx\";\r\nimport { PrevButton } from \"../prevButton/prevButton.jsx\";\r\nimport { NextButton } from \"../nextButton/nextButton.jsx\";\r\nimport { CloseButton } from \"../closeButton/closeButton.jsx\";\r\nimport { keyEventListeners } from \"../../js/eventListeners.js\";\r\nimport './configurator.style.scss'\r\n\r\nexport const CarServiceConfigurator = props => {\r\n\r\n    const [cars, setCars] = useState();\r\n    const [services, setServices] = useState();\r\n    const [coupons, setCoupons] = useState();\r\n    const [allServicesChecked, setAllServicesChecked] = useState(false);\r\n    const [step, setStep] = useState(1);\r\n    const [name, setName] = useState('');\r\n    const [phone, setPhone] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [remark, setRemark] = useState('');\r\n    const [totalPrice, setTotalPrice] = useState(0);\r\n    const [discountPrice, setDiscountPrice] = useState(0);\r\n    const [couponAdded, setCouponAdded] = useState(null);\r\n    const [couponInput, setCouponInput] = useState('');\r\n    const [couponFieldShown, setCouponFieldShown] = useState(false);\r\n    const [nextButtonDisabled, setNextButtonDisabled] = useState(true);\r\n\r\n    const firstStep = 1;\r\n    const lastStep = 5;\r\n\r\n    // API Functions //\r\n\r\n    const getCars = () => {\r\n        fetch('http://localhost:5000/cars')\r\n            .then(response => response.json())\r\n            .then(data => setCars(data))\r\n    }\r\n\r\n    const getServices = () => {\r\n        fetch('http://localhost:5000/services')\r\n            .then(response => response.json())\r\n            .then(data => setServices(data))\r\n    }\r\n\r\n    const getCoupons = () => {\r\n        fetch('http://localhost:5000/coupons')\r\n            .then(response => response.json())\r\n            .then(data => setCoupons(data))\r\n    }\r\n\r\n    // Steps generators //\r\n\r\n    const prevStep = () => {\r\n        step <= firstStep ? setStep(1) : setStep(step - 1)\r\n    }\r\n\r\n    const nextStep = () => {\r\n        cars &&\r\n            cars.some(car => car.checked === true) ?\r\n                (step >= lastStep ? setStep(lastStep) : setStep(step + 1)) :\r\n                setStep(step);\r\n    }\r\n\r\n    const onEditButtons = (step) => {\r\n        setStep(step)\r\n    }\r\n\r\n    const updateButtonVisibility = () => {\r\n        step === 3?\r\n            setNextButtonDisabled(true) :\r\n            step === 2 ?\r\n                services &&\r\n                    services.some(service => service.checked === true) ?\r\n                        setNextButtonDisabled(false) :\r\n                        setNextButtonDisabled(true)\r\n                :\r\n                cars &&\r\n                    cars.some(car => car.checked === true) ?\r\n                        setNextButtonDisabled(false) :\r\n                        setNextButtonDisabled(true);\r\n    }\r\n\r\n    // Cars and Services generators //\r\n\r\n    const onPickCarModel = e => {\r\n        cars.forEach(car => car.checked = false);\r\n\r\n        const pickedCar = cars.find(item => {\r\n            return Number(item.id) === Number(e.target.id)});\r\n\r\n        pickedCar.checked = !pickedCar.checked;\r\n\r\n        const carsWithPickedCar = [...cars];\r\n        setCars(carsWithPickedCar);\r\n    }\r\n\r\n    const onServicePick = (e) => {\r\n        const checkedService = services.find(item => {\r\n            return Number(item.id) === Number(e.target.id)});\r\n\r\n        checkedService.checked = !checkedService.checked;\r\n\r\n        const checkedServices = [...services];\r\n        setServices(checkedServices);\r\n\r\n        services.some(service => service.checked === false) ?\r\n            setAllServicesChecked(false) :\r\n            setAllServicesChecked(true);\r\n\r\n        calcTotalPrice();\r\n    }\r\n\r\n    const pickAllServices = e => {\r\n        services.forEach(service => {\r\n            e.target.checked ?\r\n                service.checked = true :\r\n                service.checked = false\r\n        });\r\n        setAllServicesChecked(!allServicesChecked);\r\n\r\n        const checkedServices = [...services];\r\n        setServices(checkedServices);\r\n        calcTotalPrice();\r\n    }\r\n\r\n    // Price generators //\r\n\r\n    const calcTotalPrice = () => {\r\n        let total = 0;\r\n        if (services) {\r\n            for (const service of services) {\r\n                 if (service.checked === true) {\r\n                     total += Number(service.price);\r\n                 }\r\n            }\r\n            setTotalPrice(total);\r\n        }\r\n\r\n        if (couponAdded) {\r\n            let discountTotal = 0;\r\n            discountTotal = total - ((Number(couponAdded.value) / 100) * total);\r\n            setDiscountPrice(discountTotal);\r\n        }\r\n    }\r\n\r\n    const onCouponInput = e => {\r\n        setCouponInput(e.target.value);\r\n    }\r\n\r\n    const onAddCoupon = e => {\r\n        const checkedCoupon = coupons.find(coupon => coupon.code === couponInput);\r\n\r\n        if (checkedCoupon) {\r\n            setCouponAdded(checkedCoupon);\r\n        } else {\r\n            setCouponAdded(false)\r\n        }\r\n    }\r\n\r\n    const updateCouponFieldVisibility = () => {\r\n        setCouponFieldShown(true);\r\n    }\r\n\r\n    // Contact Data Generators\r\n\r\n    const onFormInput = (e) => {\r\n        switch (e.target.id) {\r\n            case 'name':\r\n                setName(e.target.value)\r\n                break;\r\n\r\n            case 'phone':\r\n                setPhone(e.target.value)\r\n                break;\r\n\r\n            case 'email':\r\n                setEmail(e.target.value)\r\n                break;\r\n\r\n            case 'remark':\r\n                setRemark(e.target.value)\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    keyEventListeners(nextStep, prevStep);\r\n\r\n    useEffect(() => {\r\n        getCars();\r\n        getServices();\r\n        getCoupons();\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        calcTotalPrice();\r\n        updateButtonVisibility();\r\n    }, [couponAdded, cars, services, step])\r\n\r\n    return (\r\n        <div className=\"configurator\">\r\n            <h3>Konfigurator servisa</h3>\r\n            <div className=\"configurator__container\">\r\n                <Link to={{pathname: '/'}}>\r\n                    <CloseButton\r\n                        onClick={props.onReturnToHomePage} />\r\n                </Link>\r\n                {\r\n                    {\r\n                        1: <CarModelPicker\r\n                                cars={cars}\r\n                                pickCarModel={onPickCarModel} />,\r\n\r\n                        2: <CarServicePicker\r\n                                services={services}\r\n                                servicePick={onServicePick}\r\n                                onCheckAll={pickAllServices}\r\n                                allServicesChecked={allServicesChecked}\r\n                                totalPrice={totalPrice}\r\n                                discountPrice={discountPrice}\r\n                                addCoupon={onAddCoupon}\r\n                                couponInput={onCouponInput}\r\n                                couponAdded={couponAdded}\r\n                                calcTotalPrice={calcTotalPrice}\r\n                                revealCouponField={updateCouponFieldVisibility}\r\n                                couponFieldShown={couponFieldShown} />,\r\n\r\n                        3: <ContactForm\r\n                                formInput={onFormInput}\r\n                                submit={() => setNextButtonDisabled(false)}\r\n                                step={step}\r\n                                name={name}\r\n                                phone={phone}\r\n                                email={email}\r\n                                remark={remark}\r\n                                calcTotalPrice={calcTotalPrice} />,\r\n\r\n                        4: <Summary\r\n                                cars={cars}\r\n                                services={services}\r\n                                name={name}\r\n                                phone={phone}\r\n                                email={email}\r\n                                remark={remark}\r\n                                totalPrice={totalPrice}\r\n                                edit={onEditButtons}\r\n                                couponAdded={couponAdded}\r\n                                discountPrice={discountPrice} />,\r\n\r\n                        5: <CompletionMessage />\r\n                    }[step]\r\n                }\r\n                <div className=\"configurator__progress-buttons-block\">\r\n                    {\r\n                        step > 1 && step < 5?\r\n                            <PrevButton\r\n                                onClick={prevStep}\r\n                            /> : null\r\n                    }\r\n                    <NextButton\r\n                        onClick={nextStep}\r\n                        step={step}\r\n                        disabledStatus={nextButtonDisabled}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","C:\\Users\\Kiki\\Desktop\\car-service-wizard\\src\\components\\carModelPicker\\carModelPicker.jsx",[],"C:\\Users\\Kiki\\Desktop\\car-service-wizard\\src\\components\\carServicePicker\\carServicePicker.jsx",["73"],"import React, { useState } from 'react';\r\nimport './carServicePicker.style.scss';\r\n\r\nexport const CarServicePicker = props => {\r\n\r\n    const {\r\n        services,\r\n        servicePick,\r\n        onCheckAll,\r\n        allServicesChecked,\r\n        totalPrice,\r\n        addCoupon,\r\n        couponAdded,\r\n        couponInput,\r\n        discountPrice,\r\n        revealCouponField,\r\n        couponFieldShown } = props;\r\n\r\n    return (\r\n        <div className=\"service-picker\">\r\n            <h4 className=\"configurator__step-heading\">Korak 2. Odaberite jednu ili više usluga po Vašoj želji</h4>\r\n            <div className=\"service-picker__container\">\r\n                {\r\n                    services &&\r\n                        services.map(service => {\r\n                            return (\r\n                                <div key={service.id} className=\"service-picker__service\">\r\n                                    <label htmlFor={service.id}>\r\n                                        {service.service} ({service.price} kn)\r\n                                        <input\r\n                                            name={service.service}\r\n                                            id={service.id}\r\n                                            checked={service.checked}\r\n                                            onChange={servicePick}\r\n                                            type=\"checkbox\">\r\n                                        </input>\r\n                                    </label>\r\n                                </div>\r\n                            )\r\n                        })\r\n                }\r\n                <div className=\"service-picker__service\">\r\n                    <label htmlFor=\"all\">\r\n                        Odaberi sve\r\n                        <input type=\"checkbox\" id=\"all\" checked={allServicesChecked} onChange={onCheckAll} />\r\n                    </label>\r\n                </div>\r\n            </div>\r\n            <div className=\"service-picker__coupon-block\">\r\n                {\r\n                    couponFieldShown ?\r\n                        (couponAdded ?\r\n                            null :\r\n                            <div>\r\n                                <input onChange={couponInput} placeholder=\"unesi kupon\"></input>\r\n                                <button onClick={addCoupon}>Primijeni</button>\r\n                            </div>) :\r\n                        <button onClick={revealCouponField}>Imam kupon</button>\r\n                }\r\n            </div>\r\n            <div className=\"car-service__total-price-block\">\r\n                {couponAdded ?\r\n                    <p className=\"service-picker__coupon-message--true\">Hvala Vam, unijeli ste ispravan kod kupona</p> :\r\n                    (couponAdded === null ?\r\n                    null : <p className=\"service-picker__coupon-message--false\">Kod kupona nije ispravan</p>)\r\n                }\r\n                {\r\n                    discountPrice ?\r\n                        <div>\r\n                            <div>Osnovica {totalPrice.toFixed(2)} kn</div>\r\n                            <div>Popust ({couponAdded.value}%)\r\n                                <h3>\r\n                                    - {(totalPrice - discountPrice).toFixed(2)} kn\r\n                                </h3>\r\n                            </div>\r\n                            <h3>Ukupno {discountPrice.toFixed(2)} kn</h3>\r\n                        </div> :\r\n                        <h3>{totalPrice} kn</h3>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","C:\\Users\\Kiki\\Desktop\\car-service-wizard\\src\\components\\prevButton\\prevButton.jsx",[],"C:\\Users\\Kiki\\Desktop\\car-service-wizard\\src\\components\\nextButton\\nextButton.jsx",[],"C:\\Users\\Kiki\\Desktop\\car-service-wizard\\src\\js\\eventListeners.js",[],"C:\\Users\\Kiki\\Desktop\\car-service-wizard\\src\\components\\contactForm\\contactForm.jsx",[],"C:\\Users\\Kiki\\Desktop\\car-service-wizard\\src\\components\\summary\\summary.jsx",[],"C:\\Users\\Kiki\\Desktop\\car-service-wizard\\src\\components\\completionMessage\\completionMessage.jsx",[],"C:\\Users\\Kiki\\Desktop\\car-service-wizard\\src\\components\\closeButton\\closeButton.jsx",[],"C:\\Users\\Kiki\\Desktop\\car-service-wizard\\src\\components\\navbar\\navbar.jsx",["74"],"import React from 'react';\r\nimport { Link, useParams, useLocation } from 'react-router-dom';\r\nimport './navbar.style.scss'\r\n\r\nexport const Navbar = props => {\r\n\r\n    const location = useLocation()\r\n\r\n    if(location.pathname === '/service-configurator') {\r\n        return null;\r\n    } else {\r\n        return (\r\n            <nav className=\"navbar\">\r\n                <ul className=\"navbar__list\">\r\n                    <li className=\"navbar__item\">\r\n                        <Link className=\"navbar__link\" to={{pathname:\"/\"}}>Home</Link>\r\n                    </li>\r\n                    <li className=\"navbar__item\">\r\n                        <Link className=\"navbar__link\" to={{pathname:\"/usluge\"}}>Usluge</Link>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n        )\r\n    };\r\n\r\n}\r\n","C:\\Users\\Kiki\\Desktop\\car-service-wizard\\src\\components\\pages\\home\\home.jsx",[],"C:\\Users\\Kiki\\Desktop\\car-service-wizard\\src\\components\\pages\\services\\services.jsx",[],{"ruleId":"75","replacedBy":"76"},{"ruleId":"77","replacedBy":"78"},{"ruleId":"79","severity":1,"message":"80","line":204,"column":8,"nodeType":"81","endLine":204,"endColumn":43,"suggestions":"82"},{"ruleId":"83","severity":1,"message":"84","line":1,"column":17,"nodeType":"85","messageId":"86","endLine":1,"endColumn":25},{"ruleId":"83","severity":1,"message":"87","line":2,"column":16,"nodeType":"85","messageId":"86","endLine":2,"endColumn":25},"no-native-reassign",["88"],"no-negated-in-lhs",["89"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'calcTotalPrice' and 'updateButtonVisibility'. Either include them or remove the dependency array.","ArrayExpression",["90"],"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'useParams' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"91","fix":"92"},"Update the dependencies array to be: [couponAdded, cars, services, step, calcTotalPrice, updateButtonVisibility]",{"range":"93","text":"94"},[6249,6284],"[couponAdded, cars, services, step, calcTotalPrice, updateButtonVisibility]"]